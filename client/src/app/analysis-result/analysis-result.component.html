<div class="container-fluid" style="
    padding-left: 0;
    padding-right: 0;
  ">
  <div class="row">
    <!-- Main Content -->
    <div class="col-9" style="height: calc(100vh - 50px); overflow: scroll;">
      <div class="container">
        <div class="row">
          <div class="col mt-5">
            <div class="card">
              <div class="card-body">
                <div class="row mb-3 mt-2">
                  <div class="col d-flex align-items-center">
                    <h1>Analysis Result</h1>
                  </div>
                </div>
                <hr>
                <div *ngIf="!showResult && !showError">
                  <div class="alert alert-dark">
                    <div class="progress">
                      <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div>
                    </div>
                    <div class="mt-2 mb-2 text-center">Please wait...</div>
                  </div>
                </div>
                <!-- Result -->
                <div *ngIf="showResult">
                  <div class="row">
                    <div class="col-3">
                      <div class="list-group">
                        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{'active': currentPage === 'Overview'}" (click)="currentPage = 'Overview'">
                          Overview
                        </button>
                        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{'active': currentPage === 'Element Count'}" (click)="currentPage = 'Element Count'">
                          Element Count
                        </button>
                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Detection Visualization
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Element Detection'}" (click)="currentPage = 'Element Detection'">
                          Element Detection
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Object Detection'}" (click)="currentPage = 'Object Detection'">
                          Object Detection
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Distribution of Components
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Symmetry (Pixel LR)'}" (click)="currentPage = 'Symmetry (Pixel LR)'">
                          Symmetry (Pixel LR)
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Symmetry (Pixel TB)'}" (click)="currentPage = 'Symmetry (Pixel TB)'">
                          Symmetry (Pixel TB)
                        </button>
                        <!-- <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Balance'}" (click)="currentPage = 'Balance'">
                          Balance
                        </button> -->
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Complexity'}" (click)="currentPage = 'Complexity'">
                          Complexity
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Density'}" (click)="currentPage = 'Density'">
                          Density (Pixel)
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Density (DOM)'}" (click)="currentPage = 'Density (DOM)'">
                          Density (DOM)
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Appearance of Components
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Cohesion'}" (click)="currentPage = 'Cohesion'">
                          Cohesion
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Economy (Images)'}" (click)="currentPage = 'Economy (Images)'">
                          Economy (Images)
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Economy (Text)'}" (click)="currentPage = 'Economy (Text)'">
                          Economy (Text)
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Alignment of Components
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Simplicity (H)'}" (click)="currentPage = 'Simplicity (H)'">
                          Simplicity (H)
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Simplicity (V)'}" (click)="currentPage = 'Simplicity (V)'">
                          Simplicity (V)
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Color Usage
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Dominant Colors'}" (click)="currentPage = 'Dominant Colors'">
                          Dominant Colors
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Graphics
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Use of Pictures'}" (click)="currentPage = 'Use of Pictures'">
                          Use of Pictures
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Use of Videos'}" (click)="currentPage = 'Use of Videos'">
                          Use of Videos
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Typography
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Text Size'}" (click)="currentPage = 'Text Size'">
                          Text Size
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Type of Font'}" (click)="currentPage = 'Type of Font'">
                          Type of Font
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Structure
                        </button>
                        <button type="button" class="list-group-item d-flex justify-content-between text-left align-items-center" [ngClass]="{'active': currentPage === 'Negative Space'}" (click)="currentPage = 'Negative Space'">
                          Negative Space
                        </button>

                        <button type="button" class="list-group-item list-group-item-action list-header" disabled>
                          Debug
                        </button>
                        <button type="button" class="list-group-item list-group-item-action" [ngClass]="{'active': currentPage === 'Raw JSON'}" (click)="currentPage = 'Raw JSON'">
                          Raw JSON
                        </button>
                      </div>
                    </div>
                    <div class="col-9">

                      <!-- OVERVIEW -->
                      <div *ngIf="currentPage == 'Overview'">
                        <div class="h2">Overview</div>
                        <hr>
                        <p><b>URL : </b> <a [href]="analysisResult.browserInfoResult.url">{{ analysisResult.browserInfoResult.url }}</a></p>
                        <hr>
                        <div class="h3">Viewport Snapshot</div>
                        <table class="table table-bordered">
                          <tr>
                            <td></td>
                            <td style="text-align: center;"><b>Viewport Width:</b> {{analysisResult.browserInfoResult.viewportWidth}}px</td>
                          </tr>
                          <tr>
                            <td style="vertical-align: middle;">
                              <span style="writing-mode: vertical-rl;">
                                <b>Viewport Height:</b> {{analysisResult.browserInfoResult.viewportHeight}}px
                              </span>
                            </td>
                            <td><img [src]="analysisResult.screenshot" alt="" width="100%"></td>
                          </tr>
                        </table>
                        <hr>
                        <div class="h3">Viewport Range</div>
                        <p>The following figure visualize the displayed viewport snapshot out of the web page:</p>
                        <div style="position: relative;">
                          <div style="width: 300px; border: solid 2px; background: #f1f1f1;"
                            [ngStyle]="{'height': ( p2fer.browserInfo.scrollHeight / p2fer.browserInfo.scrollWidth * 300 ) + 'px' }">
                          </div>
                          <div style="display: flex; justify-content: center; align-items: center;"
                            [ngStyle]="{
                              width: '290px',
                              position: 'absolute',
                              border: 'solid 2px blue',
                              background: '#e5e5ff',
                              height: ( p2fer.browserInfo.viewportHeight / p2fer.browserInfo.viewportWidth * 300 ) + 'px',
                              top: (p2fer.browserInfo.pageYOffset * (300 / p2fer.browserInfo.viewportWidth)) + 'px',
                              left: '5px'
                            }">
                            <span>Visible Viewport</span>
                          </div>
                        </div>
                        <div>
                          <br>
                          <p><span style="display: inline-block; width: 20px; height: 20px; border: solid 2px; background: #f1f1f1;"></span> Page Area</p>
                          <p><span style="display: inline-block; width: 20px; height: 20px; border: solid 2px blue; background: #e5e5ff;"></span> Visible Viewport Area</p>
                        </div>
                        <hr>
                      </div>

                      <!-- ELEMENT COUNT -->
                      <div *ngIf="currentPage == 'Element Count'">
                        <div class="h2">Element Tag Distribution</div>
                        <hr>
                        <p>The following graph describes which DOM elements are mostly used in the web page.</p>
                        <p><b>Detection Scope : </b> Entire Page Area</p>
                        <ngx-charts-bar-horizontal
                        [view]="[500, fiElementCountBarData.length * 50]"
                        [showDataLabel]="true"
                        [results]="fiElementCountBarData"
                        [xAxis]="true"
                        [yAxis]="true"
                        [showXAxisLabel]="true"
                        [showYAxisLabel]="true"
                        [xAxisLabel]="'count'"
                        >
                        </ngx-charts-bar-horizontal>
                      </div>

                      <!-- ELEMENT DETECTION -->
                      <div *ngIf="currentPage == 'Element Detection'">
                        <div class="h2">DOM Element Detection</div>
                        <hr>
                        <p>The following figure visualizes the detected text elements and image elements by using the DOM inspection algorithm.</p>
                        <p><b>Detection Scope : </b> Entire Page Area</p>
                        <p><span style="display: inline-block; width: 20px; height: 20px; background: #19b5fe;"></span> Text DOM Elements</p>
                        <p><span style="display: inline-block; width: 20px; height: 20px; background: #f2784b;"></span> Image DOM Elements</p>
                        <canvas #domElementDetectionCanvas height="1" style="margin-top: 10px; width: 100%; padding: 5px; border: solid 3px black;"></canvas>
                        <ng-container *ngIf="drawDomElementDetectionCanvas()"></ng-container>
                      </div>

                      <!-- OBJECT DETECTION -->
                      <div *ngIf="currentPage == 'Object Detection'">
                        <div class="h2">OpenCV Object Detection</div>
                        <hr>
                        <p>The following figure visualizes the elements using OpenCV.</p>
                        <p><b>Detection Scope : </b> Visible Viewport Area</p>
                        <canvas #objectDetectionCanvas height="1" style="margin-top: 10px; width: 100%; padding: 5px; border: solid 3px black;"></canvas>
                        <ng-container *ngIf="drawObjectDetectionCanvas()"></ng-container>
                      </div>

                      <!-- SYMMETRY (PIXEL LR) -->
                      <div *ngIf="currentPage == 'Symmetry (Pixel LR)'">
                        <div class="h2">Pixel-based LR Symmetry</div>
                        <hr>
                        <p>LR Symmetry tells the symmetry of the page using a vertical line as the symmetry axis at the middle of the page.
                          The method of symmetry checking is by comparing the pixels from both sides and check the similarity of the color.
                        </p>
                        <p><b>Detection Scope : </b> Visible Viewport Area</p>
                        <div style="position: relative; margin: 20px 0;">
                          <img [src]="analysisResult.screenshot" style="border: solid 2px black;" alt="" width="100%">
                          <div style="height: 100%; width: 100%; position: absolute; top: 0; display: flex; align-items: center; justify-content: center;">
                            <div style="width: 5px; height: 100%; background:#9a12b3;">
                            </div>
                          </div>
                        </div>
                        <p><span style="display: inline-block; width: 20px; height: 20px; background: #9a12b3;"></span> Vertical Symmetry Line</p>
                        <hr>
                        <div class="h3">Score</div>
                        <p><b>Left-Right Symmetry Score:</b> {{ fiSymmetryLRScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'LR Symmetry', value: fiSymmetryLRScore}]"
                          [legend]="false"
                          [legendPosition]="'bottom'"
                          >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>
                        <h3>Config</h3>
                        <p><b>Acceptable Threshold (for all symmetry factors):</b> {{ analysisResult.analysisConfig.symmetry.acceptablePercentage }}%</p>
                        <mat-slider style="width: 500px" min="0" max="100" step="5" thumbLabel
                        [value]="analysisResult.analysisConfig.symmetry.acceptablePercentage"
                        (change)="fiSymmetryAcceptableThresholdChange($event)"></mat-slider>
                        <hr>
                        <div class="h3">Analysis</div>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Pixels</th>
                              <td>{{ analysisResult.symmetryResult.visitedPixels }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Left-Right Symmetrical Pixels</th>
                              <td>{{ analysisResult.symmetryResult.lrExactSymmetricalPixels }}</td>
                            </tr>
                          </tbody>
                        </table>
                        <hr>
                      </div>

                      <!-- SYMMETRY (PIXEL TB) -->
                      <div *ngIf="currentPage == 'Symmetry (Pixel TB)'">
                        <div class="h2">Pixel-based TB Symmetry</div>
                        <hr>
                        <p>TB Symmetry tells the symmetry of the page using a horizontal line as the symmetry axis at the middle of the page.
                          The method of symmetry checking is by comparing the pixels from both sides and check the similarity of the color.
                        </p>
                        <p><b>Detection Scope : </b> Visible Viewport Area</p>
                        <div style="position: relative; margin: 20px 0;">
                          <img [src]="analysisResult.screenshot" style="border: solid 2px black;" alt="" width="100%">
                          <div style="height: 100%; width: 100%; position: absolute; top: 0; display: flex; align-items: center; justify-content: center;">
                            <div style="width: 100%; height: 5px; background:#9a12b3;">
                            </div>
                          </div>
                        </div>
                        <p><span style="display: inline-block; width: 20px; height: 20px; background: #9a12b3;"></span> Horizontal Symmetry Line</p>
                        <hr>
                        <div class="h3">Score</div>
                        <p><b>Top-Bottom Symmetry Score:</b> {{ fiSymmetryTBScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'TB Symmetry', value: fiSymmetryTBScore}]"
                          [legend]="false"
                          [legendPosition]="'bottom'"
                          >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>
                        <h3>Config</h3>
                        <p><b>Acceptable Threshold (for all symmetry factors):</b> {{ analysisResult.analysisConfig.symmetry.acceptablePercentage }}%</p>
                        <mat-slider style="width: 500px" min="0" max="100" step="5" thumbLabel
                        [value]="analysisResult.analysisConfig.symmetry.acceptablePercentage"
                        (change)="fiSymmetryAcceptableThresholdChange($event)"></mat-slider>
                        <hr>
                        <div class="h3">Analysis</div>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Pixels</th>
                              <td>{{ analysisResult.symmetryResult.visitedPixels }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Top-Bottom Symmetrical Pixels</th>
                              <td>{{ analysisResult.symmetryResult.tbExactSymmetricalPixels }}</td>
                            </tr>
                          </tbody>
                        </table>
                        <hr>
                      </div>

                      <!-- COMPLEXITY -->
                      <div *ngIf="currentPage == 'Complexity'">
                        <div class="h2">Text Complexity</div>
                        <hr>
                        <p>Complexity is defined by the amount of information in each section of the web page. We calculate the complexity by checking the Text area for each grid.</p>
                        <p><b>Detection Scope : </b> Entire Page</p>
                        <canvas #complexityCanvas height="1" style="margin-top: 10px; width: 100%; border: solid 2px red;"></canvas>
                        <ng-container *ngIf="drawComplexityCanvas()"></ng-container>
                        <hr>

                        <div class="h3">Score</div>
                        <p><b>Complexity Score:</b> {{ fiComplexityScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Complexity', value: fiComplexityScore}]"
                          [legend]="false"
                          [legendPosition]="'bottom'"
                          >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>

                        <div class="h3">Analysis</div>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Score [0,100]</th>
                              <td>{{ fiComplexityScore }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Maximum Grid Complexity [0,1]</th>
                              <td>{{ finalScoreObj.complexityTextDom.data.maxDensity }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Minimum Grid Complexity Score [0,1]</th>
                              <td>{{ finalScoreObj.complexityTextDom.data.minDensity }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Average [0,1]</th>
                              <td>{{ finalScoreObj.complexityTextDom.data.average }}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <!-- DENSITY (PIXEL) -->
                      <div *ngIf="currentPage == 'Density'">
                        <div class="h2">Density (Pixel)</div>
                        <hr>
                        <p>In pixel-based density, the algorithm checks the most used color and compare the number with total pixels.
                          Low density value will output higher score.
                        </p>
                        <p><b>Detection Scope : </b> Visible Viewport Area</p>
                        <img [src]="analysisResult.screenshot" alt="" style="border: 1px solid;" width="100%">
                        <hr>
                        <h3>Score</h3>
                        <p><b>Density Score:</b> {{ fiDensityScore }}</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiDensityScore}]">
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>
                        <h3>Config</h3>
                        <p><b>Acceptable Density Threshold:</b> {{ analysisResult.analysisConfig.density.acceptableThreshold }}%</p>
                        <mat-slider style="width: 500px" min="0" max="100" step="1" thumbLabel
                        [value]="analysisResult.analysisConfig.density.acceptableThreshold"
                        (change)="fiDensityAcceptableThresholdChange($event)"></mat-slider>
                        <h3>Analysis</h3>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Pixels</th>
                              <td>{{ analysisResult.densityResult.visitedPixels }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Most used color in the snapshot</th>
                              <td>
                                <div style="width: 50px; height: 50px; border: solid 1px;" [ngStyle]="{'background-color': '#' + analysisResult.colorCountResult.rank[0].color }"></div>
                                  #{{ analysisResult.colorCountResult.rank[0].color }}
                              </td>
                            </tr>
                            <tr>
                              <th scope="row">Total pixels of the most used color</th>
                              <td>{{ analysisResult.colorCountResult.rank[0].pixelCount }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Pixel negative space percentage</th>
                              <td>{{ 100 - analysisResult.densityResult.percentage }}%</td>
                            </tr>
                            <tr>
                              <th scope="row">Density Percentage</th>
                              <td>{{ analysisResult.densityResult.percentage }}%</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <!-- DENSITY (DOM) -->
                      <div *ngIf="currentPage == 'Density (DOM)'">
                        <div class="h2">Density (DOM)</div>
                        <hr>
                        <p>In DOM based desnity, we compared the major elements towards empty area.</p>
                        <p><b>Detection Scope : </b> Entire Page</p>
                        <canvas #densityMajorDomCanvas height="1" style="margin-top: 10px; width: 100%; border: solid 2px red;"></canvas>
                        <ng-container *ngIf="drawDensityMajorDomCanvas()"></ng-container>
                        <hr>

                        <div class="h3">Score</div>
                        <p><b>Density Score:</b> {{ fiDensityMajorDomScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Density', value: fiDensityMajorDomScore}]"
                          [legend]="false"
                          [legendPosition]="'bottom'"
                          >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>

                        <div class="h3">Analysis</div>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Score [0,100]</th>
                              <td>{{ fiDensityMajorDomScore }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Maximum Grid Density [0,1]</th>
                              <td>{{ finalScoreObj.densityMajorDom.data.maxDensity }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Minimum Grid Density [0,1]</th>
                              <td>{{ finalScoreObj.densityMajorDom.data.minDensity }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Average [0,1]</th>
                              <td>{{ finalScoreObj.densityMajorDom.data.average }}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <!-- COHESION -->
                      <div *ngIf="currentPage == 'Cohesion'">
                        <div class="h2">Cohesion</div>
                        <p>The cohesion algorithm checks the consistency of image aspect ratio.</p>
                        <p><b>Detection Scope : </b> Entire Page</p>
                        <hr>
                        <h3>Score</h3>
                        <p><b>Cohesion Score:</b> {{ fiCohesionScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiCohesionScore}]"
                        >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <h3>Image Aspect Ratio Distribution</h3>
                        <ngx-charts-bar-vertical
                          style="display: block;"
                          [showDataLabel]="true"
                          [results]="fiCohesionImageAspectRatioData"
                          [xAxis]="true"
                          [yAxis]="true"
                          [showXAxisLabel]="true"
                          [showYAxisLabel]="true"
                          [view]="[600, 300]"
                          [xAxisLabel]="'Aspect Ratio'"
                          [yAxisLabel]="'Total Objects'"
                          >
                        </ngx-charts-bar-vertical>
                        <div class="clearfix"></div>
                      </div>

                      <!-- ECONOMY (IMAGES) -->
                      <div *ngIf="currentPage == 'Economy (Images)'">
                        <div class="h2">Economy (Images)</div>
                        <p>The economy-images algorithm checks the consistency of image area.</p>
                        <p><b>Detection Scope : </b> Entire Page</p>
                        <hr>
                        <h3>Score</h3>
                        <p><b>Economy-images Score:</b> {{ fiEconomyImagesScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiEconomyImagesScore }]"
                        >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <h3>Image Area Distribution</h3>
                        <ngx-charts-bar-vertical
                          style="display: block;"
                          [showDataLabel]="true"
                          [results]="fiEconomyImagesData"
                          [xAxis]="true"
                          [yAxis]="true"
                          [showXAxisLabel]="true"
                          [showYAxisLabel]="true"
                          [view]="[600, 300]"
                          [xAxisLabel]="'Area (in 100px²)'"
                          [yAxisLabel]="'Total Objects'"
                          >
                        </ngx-charts-bar-vertical>
                        <div class="clearfix"></div>
                      </div>

                      <!-- ECONOMY (TEXT) -->
                      <div *ngIf="currentPage == 'Economy (Text)'">
                        <div class="h2">Economy (Text)</div>
                        <p>The economy-text algorithm checks the consistency of text elements area.</p>
                        <p><b>Detection Scope : </b> Entire Page</p>
                        <hr>
                        <h3>Score</h3>
                        <p><b>Economy-text Score:</b> {{ fiEconomyTextScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiEconomyTextScore }]"
                        >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <h3>Image Area Distribution</h3>
                        <ngx-charts-bar-vertical
                          style="display: block;"
                          [showDataLabel]="true"
                          [results]="fiEconomyTextData"
                          [xAxis]="true"
                          [yAxis]="true"
                          [showXAxisLabel]="true"
                          [showYAxisLabel]="true"
                          [view]="[600, 300]"
                          [xAxisLabel]="'Area (in 100px²)'"
                          [yAxisLabel]="'Total Objects'"
                          >
                        </ngx-charts-bar-vertical>
                        <div class="clearfix"></div>
                      </div>

                      <!-- TEXT SIZE -->
                      <div *ngIf="currentPage == 'Text Size'">
                        <div class="h2">Text Size</div>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <h3>Score</h3>
                        <p><b>Text Size Score:</b> {{ fiTextSizeScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiTextSizeScore}]"
                        >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>

                        <h3>Config</h3>
                        <p><b>Minimum Text Size:</b> {{ this.analysisResult.analysisConfig.textSize.minimumSize }} px</p>
                        <mat-slider style="width: 500px" min="0" max="30" step="1" thumbLabel
                        [value]="this.analysisResult.analysisConfig.textSize.minimumSize"
                        (change)="fiTextSizeMinimumSizeChange($event)"></mat-slider>
                        <hr>

                        <h3>Text Size Distribution</h3>
                        <p>Character count based on text size</p>
                        <ngx-charts-bar-vertical
                          style="display: block;"
                          [showDataLabel]="true"
                          [results]="fiTextSizeBarData"
                          [xAxis]="true"
                          [yAxis]="true"
                          [showXAxisLabel]="true"
                          [showYAxisLabel]="true"
                          [view]="[600, 300]"
                          [xAxisLabel]="'Text Size'"
                          [yAxisLabel]="'Total Characters'"
                          >
                        </ngx-charts-bar-vertical>
                        <div class="clearfix"></div>
                      </div>

                      <!-- DOMINANT COLORS -->
                      <div *ngIf="currentPage == 'Dominant Colors'">
                        <h2>Dominant Colors</h2>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <h3>Colors</h3>
                        <div class="d-flex justify-content-center">
                          <div class="ml-3 mr-3 d-flex flex-column align-items-center" *ngFor="let vibrantItem of this.fiDominantColorsVibrantItems">
                            <div class="text-bold">{{vibrantItem.name}}</div>
                            <div style="width: 50px; height: 50px;" [ngStyle]="{'background-color': 'rgb(' + vibrantItem.r + ', ' + vibrantItem.g + ', ' + vibrantItem.b + ')'}">
                            </div>
                            <div><b>RGB: </b>{{vibrantItem.r}}, {{vibrantItem.g}}, {{vibrantItem.b}}</div>
                          </div>
                        </div>
                        <hr>
                        <h3>Score</h3>
                        <p><b>Dominant Colors Score:</b> {{ fiDominantColorsVibrantScore }}%</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiDominantColorsVibrantScore }]"
                        >
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <h3>Config</h3>
                        <p><b>Maximum Vibrant Area Percentage:</b> {{ analysisResult.analysisConfig.dominantColors.vibrantMaxAreaPercentage }}%</p>
                        <mat-slider style="width: 100%" min="0" max="20" step="0.01" thumbLabel
                        [value]="analysisResult.analysisConfig.dominantColors.vibrantMaxAreaPercentage"
                        (change)="fiDominantColorsVibrantMaxAreaPercentageChange($event)"></mat-slider>
                        <hr>
                        <h3>Data</h3>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Pixels</th>
                              <td>{{ analysisResult.dominantColorsResult.totalPixels }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Vibrant Pixel Count</th>
                              <td>{{ analysisResult.dominantColorsResult.vibrantPixelCount }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Vibrant Pixel Ratio</th>
                              <td>{{ analysisResult.dominantColorsResult.vibrantPixelCount * 100 / analysisResult.dominantColorsResult.totalPixels }}%</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <!-- TYPE OF FONT -->
                      <div *ngIf="currentPage == 'Type of Font'">
                        <h2>
                          Type of Font
                        </h2>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <p>
                          {{ analysisResult.textFontTypeResult.usedFonts.join(', ') }}
                        </p>
                        <hr>

                        <h3>
                          All Font Stacks
                        </h3>
                        <table class="table">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Stack</th>
                            </tr>
                          </thead>
                          <tr *ngFor="let item of analysisResult.textFontTypeResult.stacks; let i = index">
                            <td>{{ i + 1 }}</td>
                            <td>{{ item }}</td>
                          </tr>
                        </table>
                      </div>

                      <!-- RAW JSON -->
                      <div *ngIf="currentPage == 'Raw JSON'">
                        <pre>
      {{ analysisResultRaw }}
                        </pre>
                      </div>

                      <!-- USE OF PICTURES -->
                      <div *ngIf="currentPage == 'Use of Pictures'">
                        <div class="h2">Use of Pictures</div>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <h3>Score</h3>
                        <p><b>Use of Pictures Score:</b> {{ fiPicturesScore }}</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiPicturesScore}]">
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>
                        <h3>Config</h3>
                        <p><b>Minimum Acceptable Pictures Area Percentage:</b> {{ analysisResult.analysisConfig.pictures.acceptableThreshold }}%</p>
                        <mat-slider style="width: 500px" min="0" max="100" step="1" thumbLabel
                        [value]="analysisResult.analysisConfig.pictures.acceptableThreshold"
                        (change)="fiPicturesAcceptableThresholdChange($event)"></mat-slider>
                        <h3>Analysis</h3>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Images</th>
                              <td>{{ analysisResult.picturesResult.allCount }}</td>
                            </tr>
                            <tr>
                              <th scope="row">Total Image Area</th>
                              <td>{{ fiPicturesTotalArea }}px²</td>
                            </tr>
                            <tr>
                              <th scope="row">Total Page Area</th>
                              <td>{{ analysisResult.browserInfoResult.scrollHeight * analysisResult.browserInfoResult.scrollWidth }}px²</td>
                            </tr>
                            <tr>
                              <th scope="row">Image Percentage</th>
                              <td>{{ fiPicturesTotalArea * 100 / (analysisResult.browserInfoResult.scrollHeight * analysisResult.browserInfoResult.scrollWidth) }}%</td>
                            </tr>
                          </tbody>
                        </table>
                        <h3>Visualization</h3>
                        <button class="btn btn-primary" (click)="fiPicturesDrawCanvas()">Show Visualization</button>
                        <canvas #picturesCanvas height="1" style="margin-top: 10px; width: 100%; padding: 5px; border: solid 3px black;"></canvas>
                      </div>

                      <!-- NEGATIVE SPACE -->
                      <div *ngIf="currentPage === 'Negative Space'">
                        <div class="h2">Negative Space</div>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <h3>Score</h3>
                        <p><b>Text Negative Space Score:</b> {{ fiNegativeSpaceScore }}</p>
                        <ngx-charts-gauge
                          [view]="[500, 300]"
                          [scheme]="{
                            domain: ['#563d7c']
                          }"
                          [min]="0"
                          [max]="100"
                          [results]="[{name: 'Score', value: fiNegativeSpaceScore}]">
                        </ngx-charts-gauge>
                        <div class="clearfix"></div>
                        <hr>
                        <h3>Analysis</h3>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Area</th>
                              <td>{{ fiNegativeSpaceFilledPixels + fiNegativeSpaceEmptyPixels }} px²</td>
                            </tr>
                            <tr>
                              <th scope="row">Text Filled Area</th>
                              <td>{{ fiNegativeSpaceFilledPixels }} px²</td>
                            </tr>
                            <tr>
                              <th scope="row">Text Filled Area Percentage</th>
                              <td>{{ fiNegativeSpaceFilledPixels * 100 / (fiNegativeSpaceFilledPixels + fiNegativeSpaceEmptyPixels) }}%</td>
                            </tr>
                          </tbody>
                        </table>
                        <hr>
                        <h3>Visualization</h3>
                        <button class="btn btn-primary" (click)="fiNegativeSpaceDrawCanvas()">Show Visualization</button>
                        <canvas #negativeSpaceCanvas height="1" style="margin-top: 10px; width: 100%; padding: 5px; border: solid 3px black;"></canvas>
                      </div>

                      <!-- VIDEOS -->
                      <div *ngIf="currentPage === 'Use of Videos'">
                        <div class="h2">Use of Videos</div>
                        <hr>
                        <img [src]="analysisResult.screenshot" alt="" width="100%">
                        <hr>
                        <h3>Analysis</h3>
                        <table class="table">
                          <tbody>
                            <tr>
                              <th scope="row">Total Videos</th>
                              <td>{{ this.analysisResult.videosResult.visibleCount }}</td>
                            </tr>
                          </tbody>
                        </table>
                        <hr>
                        <h3>Visualization</h3>
                        <button class="btn btn-primary" (click)="fiVideosDrawCanvas()">Show Visualization</button>
                        <canvas #videosCanvas height="1" style="margin-top: 10px; width: 100%; padding: 5px; border: solid 3px black;"></canvas>
                      </div>

                    </div>
                  </div>
                </div>
                <!-- Error -->
                <!-- <div *ngIf="showError">
                  <div class="alert alert-danger">Cannot access the requested URL</div>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Summary Sidebar -->
    <div class="col" style="height: calc(100vh - 50px); overflow: scroll; background: #fff; border-left: solid 1px #e1e3e8; padding-top: 20px;">
      <div class="h3">Final Score</div>
      <div class="d-flex justify-content-center align-items-center">
        <div style="font-size: 80px; position: absolute;">{{ finalScore }}</div>
        <ngx-charts-pie-grid
          class="analysis-result-final-score"
          style="transform: translate(0px, 10px);"
          [view]="[300, 300]"
          [scheme]="{
            domain: ['#007bff']
          }"
          [results]="[{
            'name': 'Score',
            'value': finalScore
          }]"
          [label]="'score'"
          [designatedTotal]="100"
          [tooltipDisabled]="true">
        </ngx-charts-pie-grid>
      </div>
      <div class="h3">Score Breakdown</div>
      <table class="table">
        <tbody>
          <tr>
            <th scope="row" style="width: 120px;">Left-Right Symmetry</th>
            <td style="width: 50px;">{{ fiSymmetryLRScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiSymmetryLRScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Top-Bottom Symmetry</th>
            <td>{{ fiSymmetryTBScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiSymmetryTBScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Density</th>
            <td>{{ fiDensityScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiDensityScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Use of Pictures</th>
            <td>{{ fiPicturesScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiPicturesScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Text Size</th>
            <td>{{ fiTextSizeScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiTextSizeScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Dominant Colors Area</th>
            <td>{{ fiDominantColorsVibrantScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiDominantColorsVibrantScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
          <tr>
            <th scope="row">Text Negative Space</th>
            <td>{{ fiNegativeSpaceScore }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar" role="progressbar" [ngStyle]="{width: fiNegativeSpaceScore + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
